name: myamp
filepath: ../spice/tia3.sp
template: AmplifierTemplate
pin:
    vdd:
        direction: input
        datatype: analog
        #value: 3.0
        value: (2.7, 3.3)
    #vss:
    #    direction: input
    #    datatype: real
    #    value: 0
    inp:
        direction: input
        datatype: real
        electricaltype: current
    inn:
        direction: input
        datatype: real
        electricaltype: current
    
    ibias:
        direction: input
        datatype: analog
        electricaltype: current
        #value: (2e-6, 10e-6)
        value: 6e-6
    #rfadj<5>:
    #    direction: input
    #    datatype: real
    #    value: 3
    rfadj<5:0>:
        direction: input
        datatype: binary_analog
        bus_type: binary
        first_one: low
        value: (10, 63)


    outp:
        direction: output
        datatype: real
    outn:
        direction: output
        datatype: real

proxy_signals:

    indiff:
        value: (-3e-6, 3e-6)
        style: linear_combination_in
        components: [inp, inn]
        coefficients: [1, -1]
    incm:
        value: (-1e-6, 1e-6)
        style: linear_combination_in
        components: [inp, inn]
        coefficients: [0.5, 0.5]

    outdiff:
        style: linear_combination_out
        components: [outp, outn]
        coefficients: [1, -1]

    outcm:
        style: linear_combination_out
        components: [outp, outn]
        coefficients: [0.5, 0.5]



    input_test:
        style: vector
        components: [indiff, incm]
    output_test:
        style: vector
        components: [outdiff, outcm]


template_pins:
    input: input_test
    output: output_test

extras:
    #approx_settling_time: 2e-9
    approx_settling_time: 100e-6

#test_config_file: ngspice_dynamics.yaml
#test_config_file: ngspice_small_tstep.yaml
test_config_file: ngspice.yaml
